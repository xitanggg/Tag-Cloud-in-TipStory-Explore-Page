{"version":3,"sources":["TagCloud/utils/constant.js","TagCloud/BookOutline/BookOutline.js","TagCloud/BookOutline/index.js","TagCloud/utils/isTagCollided.js","TagCloud/utils/isInBook.js","TagCloud/utils/useInterval.js","TagCloud/utils/testWords.js","TagCloud/TagCloud.js","TagCloud/index.js","App.js","reportWebVitals.js","index.js","TagCloud/TagCloud.module.css"],"names":["BOOK_HEIGHT","SEMI_MINOR_AXIS","BookOutline","bookWidth","canvasRef","useRef","useEffect","current","width","height","semiMajorAxis","getContext","ctx","strokeStyle","beginPath","moveTo","ellipse","Math","PI","lineTo","stroke","ref","isTagCollided","tagObj","otherTags","x1","y1","x2","y2","notOnTop","filter","item","length","notOnBottom","notOnLeft","getTopLeftEllipseY","x","h","a","sqrt","getTopRightEllipseY","getBottomLeftEllipseY","getBottomRightEllipseY","isInBook","halfBookWidth","useInterval","callback","delay","savedCallback","id","setInterval","clearInterval","testWords","tag","initializedTagList","map","visibility","opacity","Tag","idx","tagListRef","tagRef","useState","fontSize","floor","random","state","setState","tagLink","toLowerCase","tagDisplay","charAt","toUpperCase","substring","useTagPosition","href","className","styles","style","left","top","xRandomness","offsetWidth","offsetHeight","slice","theta","numLoop","newX1","cos","newY1","sin","hide","prev","TagCloud","tagList","displayIdx","setDisplayIdx","tagCloudRef","setBookWidth","tagCloudWidth","clientWidth","tagCloud","AppText","App","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.1f7cea1a.chunk.js","sourcesContent":["const BOOK_HEIGHT = 500;\r\nconst SEMI_MINOR_AXIS = 50;\r\n\r\nexport { BOOK_HEIGHT, SEMI_MINOR_AXIS };\r\n","import React, { useEffect, useRef } from 'react';\r\nimport { BOOK_HEIGHT, SEMI_MINOR_AXIS } from '../utils/constant';\r\n\r\n/**\r\n * Return a canvas with a book drawn.\r\n * Deafult size of the book: width = 700px, height = 500px\r\n */\r\nfunction BookOutline({ bookWidth = 700 }) {\r\n\tconst canvasRef = useRef();\r\n\r\n\t// Draw book outline on mount\r\n\tuseEffect(() => {\r\n\t\tif (!canvasRef.current) return;\r\n\t\tcanvasRef.current.width = bookWidth;\r\n\t\tcanvasRef.current.height = BOOK_HEIGHT;\r\n\t\tconst semiMajorAxis = bookWidth / 4;\r\n\t\tif (canvasRef.current.getContext) {\r\n\t\t\tconst ctx = canvasRef.current.getContext('2d');\r\n\t\t\tctx.strokeStyle = 'rgb(5, 151, 242)';\r\n\t\t\tctx.beginPath();\r\n\t\t\t// Draw top left ellipse\r\n\t\t\tctx.moveTo(bookWidth / 2, SEMI_MINOR_AXIS);\r\n\t\t\tctx.ellipse(\r\n\t\t\t\tsemiMajorAxis,\r\n\t\t\t\tSEMI_MINOR_AXIS,\r\n\t\t\t\tsemiMajorAxis,\r\n\t\t\t\tSEMI_MINOR_AXIS,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tMath.PI,\r\n\t\t\t\ttrue\r\n\t\t\t);\r\n\t\t\t// Top right ellipse\r\n\t\t\tctx.moveTo(bookWidth, SEMI_MINOR_AXIS);\r\n\t\t\tctx.ellipse(\r\n\t\t\t\tsemiMajorAxis * 3,\r\n\t\t\t\tSEMI_MINOR_AXIS,\r\n\t\t\t\tsemiMajorAxis,\r\n\t\t\t\tSEMI_MINOR_AXIS,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tMath.PI,\r\n\t\t\t\ttrue\r\n\t\t\t);\r\n\t\t\t// Left bound\r\n\t\t\tctx.moveTo(1, SEMI_MINOR_AXIS - 5);\r\n\t\t\tctx.lineTo(1, BOOK_HEIGHT);\r\n\t\t\t// Right bound\r\n\t\t\tctx.moveTo(bookWidth - 1, SEMI_MINOR_AXIS - 5);\r\n\t\t\tctx.lineTo(bookWidth - 1, BOOK_HEIGHT);\r\n\t\t\t// Bottom left ellipse\r\n\t\t\tctx.moveTo(bookWidth / 2, BOOK_HEIGHT);\r\n\t\t\tctx.ellipse(\r\n\t\t\t\tsemiMajorAxis,\r\n\t\t\t\tBOOK_HEIGHT,\r\n\t\t\t\tsemiMajorAxis,\r\n\t\t\t\tSEMI_MINOR_AXIS,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tMath.PI,\r\n\t\t\t\ttrue\r\n\t\t\t);\r\n\t\t\t// Bottom right ellipse\r\n\t\t\tctx.moveTo(bookWidth, BOOK_HEIGHT);\r\n\t\t\tctx.ellipse(\r\n\t\t\t\tsemiMajorAxis * 3,\r\n\t\t\t\tBOOK_HEIGHT,\r\n\t\t\t\tsemiMajorAxis,\r\n\t\t\t\tSEMI_MINOR_AXIS,\r\n\t\t\t\t0,\r\n\t\t\t\t0,\r\n\t\t\t\tMath.PI,\r\n\t\t\t\ttrue\r\n\t\t\t);\r\n\t\t\tctx.stroke();\r\n\t\t}\r\n\t}, [bookWidth]);\r\n\r\n\treturn <canvas ref={canvasRef}></canvas>;\r\n}\r\n\r\nexport default BookOutline;\r\n","import BookOutline from './BookOutline';\r\n\r\nexport default BookOutline;\r\n","/**\r\n * isTagCollised checks if tagObj collides with any tagObjs in\r\n * the tagList array. It returns true to indicate a collision.\r\n *\r\n * @param {Object} tagObj\r\n * @param {Array} otherTags\r\n */\r\nconst isTagCollided = (tagObj, otherTags) => {\r\n\tconst { x1, y1, x2, y2 } = tagObj;\r\n\t// notOnTop is the list of tags that current tagObj is not on top of\r\n\t// Note y value increases by going down in html\r\n\t// Conventinally, tagObj is on top of another if y2 > item.y1\r\n\t// In html, it is the opposite, tagObj is on top of another if y2 < item.y1\r\n\t// (lower value of means higher up)\r\n\tconst notOnTop = otherTags.filter((item) => !(y2 < item.y1));\r\n\tif (notOnTop.length === 0) return false;\r\n\tconst notOnBottom = notOnTop.filter((item) => !(y1 > item.y2));\r\n\tif (notOnBottom.length === 0) return false;\r\n\tconst notOnLeft = notOnBottom.filter((item) => !(x1 > item.x2));\r\n\tif (notOnLeft.length === 0) return false;\r\n\tconst notOnRight = notOnLeft.filter((item) => !(x2 < item.x1));\r\n\tif (notOnRight.length === 0) return false;\r\n\treturn true;\r\n};\r\n\r\nexport default isTagCollided;\r\n","/**\r\n * isInBook checks if tagObj is within the book.\r\n * It returns true if tagObj is within the book.\r\n *\r\n * @param {Object} tagObj\r\n */\r\n\r\nimport { BOOK_HEIGHT, SEMI_MINOR_AXIS } from './constant';\r\n\r\nconst isInBook = (tagObj, bookWidth) => {\r\n\tconst { x1, y1, x2, y2 } = tagObj;\r\n\t// Check if outside of left\r\n\tif (x1 < 0) return false;\r\n\t// Check if outside of top\r\n\tif (y1 < 0) return false;\r\n\t// Check if outside of right\r\n\tif (x2 > bookWidth) return false;\r\n\t// Check if outside of bottom\r\n\tif (y2 > BOOK_HEIGHT) return false;\r\n\t// Perform top left ellipse test\r\n\tconst halfBookWidth = bookWidth / 2;\r\n\tconst semiMajorAxis = bookWidth / 4;\r\n\tif (x1 < halfBookWidth && y1 < SEMI_MINOR_AXIS) {\r\n\t\tif (x2 > halfBookWidth) return false;\r\n\t\tconst y1Boundary1 = getTopLeftEllipseY(x1, semiMajorAxis);\r\n\t\tif (y1 < y1Boundary1) return false;\r\n\t\tconst y1Boundary2 = getTopLeftEllipseY(x2, semiMajorAxis);\r\n\t\tif (y1 < y1Boundary2) return false;\r\n\t}\r\n\t// Perform top right ellipse test\r\n\tif (x2 > halfBookWidth && y1 < SEMI_MINOR_AXIS) {\r\n\t\tif (x1 < halfBookWidth) return false;\r\n\t\tconst y1Boundary1 = getTopRightEllipseY(x1, semiMajorAxis);\r\n\t\tif (y1 < y1Boundary1) return false;\r\n\t\tconst y1Boundary2 = getTopRightEllipseY(x2, semiMajorAxis);\r\n\t\tif (y1 < y1Boundary2) return false;\r\n\t}\r\n\t// Perform bottom left ellipse test\r\n\tif (x1 < halfBookWidth && y2 > BOOK_HEIGHT - SEMI_MINOR_AXIS) {\r\n\t\tif (x2 > halfBookWidth) return false;\r\n\t\tconst y2Boundary1 = getBottomLeftEllipseY(x1, semiMajorAxis);\r\n\t\tif (y2 > y2Boundary1) return false;\r\n\t\tconst y2Boundary2 = getBottomLeftEllipseY(x2, semiMajorAxis);\r\n\t\tif (y2 > y2Boundary2) return false;\r\n\t}\r\n\t// Perform bottom right ellipse test\r\n\tif (x2 > halfBookWidth && y2 > BOOK_HEIGHT - SEMI_MINOR_AXIS) {\r\n\t\tif (x1 < halfBookWidth) return false;\r\n\t\tconst y2Boundary1 = getBottomRightEllipseY(x1, semiMajorAxis);\r\n\t\tif (y2 > y2Boundary1) return false;\r\n\t\tconst y2Boundary2 = getBottomRightEllipseY(x2, semiMajorAxis);\r\n\t\tif (y2 > y2Boundary2) return false;\r\n\t}\r\n\treturn true;\r\n};\r\n\r\nconst getTopLeftEllipseY = (x, semiMajorAxis) => {\r\n\t// Ellipse center at (h, k) = (175, 50)\r\n\t// Semi-major axis: a = 175\r\n\t// Semi-minor axis: b = 50\r\n\tconst h = semiMajorAxis;\r\n\tconst k = SEMI_MINOR_AXIS;\r\n\tconst a = semiMajorAxis;\r\n\tconst b = SEMI_MINOR_AXIS;\r\n\t// y = +-sqrt(b^2 - (x-h)^2 * b^2 / a^2) + k\r\n\t// *Very tricky: Looking at the book canvas, it seems that this is top half\r\n\t// of the ellipse, but it is actually the bottom half when view in\r\n\t// conventional rectangular coordinates. Y-axis in html is vertically flipped.\r\n\tconst y = -Math.sqrt(b ** 2 - ((x - h) ** 2 * b ** 2) / a ** 2) + k;\r\n\treturn y;\r\n};\r\n\r\nconst getTopRightEllipseY = (x, semiMajorAxis) => {\r\n\t// Ellipse center at (h, k) = (525, 50)\r\n\t// Semi-major axis: a = 175\r\n\t// Semi-minor axis: b = 50\r\n\tconst h = semiMajorAxis * 3;\r\n\tconst k = SEMI_MINOR_AXIS;\r\n\tconst a = semiMajorAxis;\r\n\tconst b = SEMI_MINOR_AXIS;\r\n\t// y = +-sqrt(b^2 - (x-h)^2 * b^2 / a^2) + k\r\n\tconst y = -Math.sqrt(b ** 2 - ((x - h) ** 2 * b ** 2) / a ** 2) + k;\r\n\treturn y;\r\n};\r\n\r\nconst getBottomLeftEllipseY = (x, semiMajorAxis) => {\r\n\t// Ellipse center at (h, k) = (175, 500)\r\n\t// Semi-major axis: a = 175\r\n\t// Semi-minor axis: b = 50\r\n\tconst h = semiMajorAxis;\r\n\tconst k = BOOK_HEIGHT;\r\n\tconst a = semiMajorAxis;\r\n\tconst b = SEMI_MINOR_AXIS;\r\n\tconst y = -Math.sqrt(b ** 2 - ((x - h) ** 2 * b ** 2) / a ** 2) + k;\r\n\treturn y;\r\n};\r\n\r\nconst getBottomRightEllipseY = (x, semiMajorAxis) => {\r\n\t// Ellipse center at (h, k) = (525, 500)\r\n\t// Semi-major axis: a = 175\r\n\t// Semi-minor axis: b = 50\r\n\tconst h = semiMajorAxis * 3;\r\n\tconst k = BOOK_HEIGHT;\r\n\tconst a = semiMajorAxis;\r\n\tconst b = SEMI_MINOR_AXIS;\r\n\tconst y = -Math.sqrt(b ** 2 - ((x - h) ** 2 * b ** 2) / a ** 2) + k;\r\n\treturn y;\r\n};\r\n\r\nexport default isInBook;\r\n","import { useEffect, useRef } from 'react';\r\n\r\n/**\r\n * useInterval is the react hook way of using setInterval.\r\n * By Dan Abramov\r\n *\r\n * https://overreacted.io/making-setinterval-declarative-with-react-hooks/\r\n * @param {Function} callback\r\n * @param {Number} delay\r\n */\r\n\r\nfunction useInterval(callback, delay) {\r\n\tconst savedCallback = useRef();\r\n\r\n\t// Remember the latest callback.\r\n\tuseEffect(() => {\r\n\t\tsavedCallback.current = callback;\r\n\t}, [callback]);\r\n\r\n\t// Set up the interval.\r\n\tuseEffect(() => {\r\n\t\tasync function tick() {\r\n\t\t\tawait savedCallback.current();\r\n\t\t}\r\n\t\tif (delay !== null) {\r\n\t\t\tlet id = setInterval(tick, delay);\r\n\t\t\treturn () => clearInterval(id);\r\n\t\t}\r\n\t}, [delay]);\r\n}\r\n\r\nexport default useInterval;\r\n","const testWords = [\r\n\t{ tag: 'a' },\r\n\t{ tag: 'ability' },\r\n\t{ tag: 'able' },\r\n\t{ tag: 'about' },\r\n\t{ tag: 'above' },\r\n\t{ tag: 'abroad' },\r\n\t{ tag: 'absence' },\r\n\t{ tag: 'absent' },\r\n\t{ tag: 'absolute' },\r\n\t{ tag: 'accept' },\r\n\t{ tag: 'accident' },\r\n\t{ tag: 'accord' },\r\n\t{ tag: 'account' },\r\n\t{ tag: 'accuse' },\r\n\t{ tag: 'accustom' },\r\n\t{ tag: 'ache' },\r\n\t{ tag: 'across' },\r\n\t{ tag: 'act' },\r\n\t{ tag: 'action' },\r\n\t{ tag: 'active' },\r\n\t{ tag: 'actor' },\r\n\t{ tag: 'actress' },\r\n\t{ tag: 'actual' },\r\n\t{ tag: 'add' },\r\n\t{ tag: 'address' },\r\n\t{ tag: 'admire' },\r\n\t{ tag: 'admission' },\r\n\t{ tag: 'admit' },\r\n\t{ tag: 'adopt' },\r\n\t{ tag: 'adoption' },\r\n\t{ tag: 'advance' },\r\n\t{ tag: 'advantage' },\r\n\t{ tag: 'adventure' },\r\n\t{ tag: 'advertise' },\r\n\t{ tag: 'advice' },\r\n\t{ tag: 'advise' },\r\n\t{ tag: 'affair' },\r\n\t{ tag: 'afford' },\r\n\t{ tag: 'afraid' },\r\n\t{ tag: 'after' },\r\n\t{ tag: 'afternoon' },\r\n\t{ tag: 'again' },\r\n\t{ tag: 'against' },\r\n\t{ tag: 'age' },\r\n\t{ tag: 'agency' },\r\n\t{ tag: 'agent' },\r\n\t{ tag: 'ago' },\r\n\t{ tag: 'agree' },\r\n\t{ tag: 'agriculture' },\r\n\t{ tag: 'ahead' },\r\n\t{ tag: 'aim' },\r\n\t{ tag: 'air' },\r\n\t{ tag: 'airplane' },\r\n\t{ tag: 'alike' },\r\n\t{ tag: 'alive' },\r\n\t{ tag: 'all' },\r\n\t{ tag: 'allow' },\r\n\t{ tag: 'allowance' },\r\n\t{ tag: 'almost' },\r\n\t{ tag: 'alone' },\r\n\t{ tag: 'along' },\r\n\t{ tag: 'aloud' },\r\n\t{ tag: 'already' },\r\n\t{ tag: 'also' },\r\n\t{ tag: 'although' },\r\n\t{ tag: 'altogether' },\r\n\t{ tag: 'always' },\r\n\t{ tag: 'ambition' },\r\n\t{ tag: 'ambitious' },\r\n\t{ tag: 'among' },\r\n\t{ tag: 'amongst' },\r\n\t{ tag: 'amount' },\r\n\t{ tag: 'amuse' },\r\n\t{ tag: 'ancient' },\r\n\t{ tag: 'and' },\r\n\t{ tag: 'anger' },\r\n\t{ tag: 'angle' },\r\n\t{ tag: 'angry' },\r\n\t{ tag: 'animal' },\r\n\t{ tag: 'annoy' },\r\n\t{ tag: 'annoyance' },\r\n\t{ tag: 'another' },\r\n\t{ tag: 'answer' },\r\n\t{ tag: 'anxiety' },\r\n\t{ tag: 'anxious' },\r\n\t{ tag: 'any' },\r\n\t{ tag: 'anybody' },\r\n\t{ tag: 'anyhow' },\r\n\t{ tag: 'anyone' },\r\n\t{ tag: 'anything' },\r\n\t{ tag: 'anyway' },\r\n\t{ tag: 'anywhere' },\r\n\t{ tag: 'apart' },\r\n\t{ tag: 'apology' },\r\n\t{ tag: 'appear' },\r\n\t{ tag: 'appearance' },\r\n\t{ tag: 'applaud' },\r\n\t{ tag: 'applause' },\r\n\t{ tag: 'apple' },\r\n\t{ tag: 'application' },\r\n\t{ tag: 'apply' },\r\n\t{ tag: 'appoint' },\r\n\t{ tag: 'approve' },\r\n\t{ tag: 'arch' },\r\n\t{ tag: 'argue' },\r\n\t{ tag: 'arise' },\r\n\t{ tag: 'arm' },\r\n\t{ tag: 'army' },\r\n\t{ tag: 'around' },\r\n\t{ tag: 'arrange' },\r\n\t{ tag: 'arrest' },\r\n\t{ tag: 'arrive' },\r\n\t{ tag: 'arrow' },\r\n\t{ tag: 'art' },\r\n\t{ tag: 'article' },\r\n\t{ tag: 'artificial' },\r\n\t{ tag: 'as' },\r\n\t{ tag: 'ash' },\r\n\t{ tag: 'ashamed' },\r\n\t{ tag: 'aside' },\r\n\t{ tag: 'ask' },\r\n\t{ tag: 'asleep' },\r\n\t{ tag: 'association' },\r\n\t{ tag: 'astonish' },\r\n\t{ tag: 'at' },\r\n\t{ tag: 'attack' },\r\n\t{ tag: 'attempt' },\r\n\t{ tag: 'attend' },\r\n\t{ tag: 'attention' },\r\n\t{ tag: 'attentive' },\r\n\t{ tag: 'attract' },\r\n\t{ tag: 'attraction' },\r\n\t{ tag: 'attractive' },\r\n\t{ tag: 'audience' },\r\n\t{ tag: 'aunt' },\r\n\t{ tag: 'autumn' },\r\n\t{ tag: 'avenue' },\r\n\t{ tag: 'average' },\r\n\t{ tag: 'avoid' },\r\n\t{ tag: 'avoidance' },\r\n\t{ tag: 'awake' },\r\n\t{ tag: 'away' },\r\n\t{ tag: 'awkward' },\r\n\t{ tag: 'axe' },\r\n\t{ tag: 'baby' },\r\n\t{ tag: 'back' },\r\n\t{ tag: 'backward' },\r\n\t{ tag: 'bad' },\r\n\t{ tag: 'bag' },\r\n\t{ tag: 'baggage' },\r\n\t{ tag: 'bake' },\r\n\t{ tag: 'balance' },\r\n\t{ tag: 'ball' },\r\n\t{ tag: 'band' },\r\n\t{ tag: 'bank' },\r\n\t{ tag: 'bar' },\r\n\t{ tag: 'barber' },\r\n\t{ tag: 'bare' },\r\n\t{ tag: 'bargain' },\r\n\t{ tag: 'barrel' },\r\n\t{ tag: 'base' },\r\n\t{ tag: 'basic' },\r\n\t{ tag: 'basin' },\r\n\t{ tag: 'basis' },\r\n\t{ tag: 'basket' },\r\n\t{ tag: 'bath' },\r\n\t{ tag: 'bathe' },\r\n\t{ tag: 'battery' },\r\n\t{ tag: 'battle' },\r\n\t{ tag: 'bay' },\r\n\t{ tag: 'be' },\r\n\t{ tag: 'beak' },\r\n\t{ tag: 'beam' },\r\n\t{ tag: 'bean' },\r\n\t{ tag: 'bear' },\r\n\t{ tag: 'beard' },\r\n\t{ tag: 'beast' },\r\n\t{ tag: 'beat' },\r\n\t{ tag: 'beauty' },\r\n\t{ tag: 'because' },\r\n\t{ tag: 'become' },\r\n\t{ tag: 'bed' },\r\n\t{ tag: 'bedroom' },\r\n\t{ tag: 'before' },\r\n\t{ tag: 'beg' },\r\n\t{ tag: 'begin' },\r\n\t{ tag: 'behave' },\r\n\t{ tag: 'behavior' },\r\n\t{ tag: 'behind' },\r\n\t{ tag: 'being' },\r\n\t{ tag: 'belief' },\r\n\t{ tag: 'believe' },\r\n\t{ tag: 'bell' },\r\n\t{ tag: 'belong' },\r\n\t{ tag: 'below' },\r\n\t{ tag: 'belt' },\r\n\t{ tag: 'bend' },\r\n\t{ tag: 'beneath' },\r\n\t{ tag: 'berry' },\r\n];\r\n\r\nexport default testWords;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport BookOutline from './BookOutline';\r\nimport styles from './TagCloud.module.css';\r\nimport { isInBook, isTagCollided, useInterval } from './utils';\r\nimport { BOOK_HEIGHT } from './utils/constant';\r\nimport testWords from './utils/testWords';\r\n\r\nconst initializedTagList = testWords.map((item) => ({\r\n\t...item,\r\n\tvisibility: 'hidden',\r\n\topacity: 0,\r\n}));\r\n\r\nfunction TagCloud() {\r\n\tconst tagListRef = useRef(testWords);\r\n\tconst [tagList, setTagList] = useState(initializedTagList);\r\n\r\n\t// Effect to make a new tag visible every 300ms\r\n\tconst [displayIdx, setDisplayIdx] = useState(0);\r\n\tuseInterval(() => {\r\n\t\tif (displayIdx === tagList.length) return;\r\n\t\tif (!tagListRef.current[displayIdx].hide) {\r\n\t\t\ttagList[displayIdx].visibility = 'visible';\r\n\t\t\ttagList[displayIdx].opacity = 1;\r\n\t\t}\r\n\t\tsetDisplayIdx((prev) => prev + 1);\r\n\t}, 300);\r\n\r\n\t// Set bookWidth based on window size on mount (Default to 700px)\r\n\tconst tagCloudRef = useRef('');\r\n\tconst [bookWidth, setBookWidth] = useState(700);\r\n\tuseEffect(() => {\r\n\t\tif (!tagCloudRef.current) return;\r\n\t\tconst tagCloudWidth = tagCloudRef.current.clientWidth;\r\n\t\tif (tagCloudWidth !== 700) {\r\n\t\t\tsetBookWidth(tagCloudWidth);\r\n\t\t}\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className={styles.tagCloud} ref={tagCloudRef}>\r\n\t\t\t<BookOutline bookWidth={bookWidth} />\r\n\t\t\t{tagList.map((item, idx) => (\r\n\t\t\t\t<Tag\r\n\t\t\t\t\tkey={idx}\r\n\t\t\t\t\tbookWidth={bookWidth}\r\n\t\t\t\t\ttagObj={item}\r\n\t\t\t\t\tidx={idx}\r\n\t\t\t\t\ttagListRef={tagListRef}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</div>\r\n\t);\r\n}\r\n\r\nfunction Tag({ bookWidth, tagObj, idx, tagListRef }) {\r\n\tconst tagRef = useRef('');\r\n\tconst [state, setState] = useState({\r\n\t\tx1: -999,\r\n\t\ty1: -999,\r\n\t\tfontSize: Math.floor(Math.random() * 4) + 15,\r\n\t});\r\n\tconst { x1, y1, fontSize } = state;\r\n\tconst { tag, visibility, opacity } = tagObj;\r\n\tconst tagLink = `https://www.tipstory.org/tag/${tag.toLowerCase()}`;\r\n\tconst tagDisplay = tag.charAt(0).toUpperCase() + tag.substring(1);\r\n\r\n\tuseTagPosition(tagRef, idx, tagListRef, bookWidth, setState);\r\n\r\n\treturn (\r\n\t\t<a href={tagLink} className={styles.tagLink}>\r\n\t\t\t<div\r\n\t\t\t\tref={tagRef}\r\n\t\t\t\tclassName={styles.tag}\r\n\t\t\t\tstyle={{ left: x1, top: y1, fontSize, visibility, opacity }}\r\n\t\t\t>\r\n\t\t\t\t{tagDisplay}\r\n\t\t\t</div>\r\n\t\t</a>\r\n\t);\r\n}\r\n\r\n/**\r\n * useTagPosition is the core of the tag cloud algorithum and attempts\r\n * to place a tag inside the book.\r\n * If a tag is placed successfullly, the tag is set with new x1, y1, x2, y2.\r\n * If not, the tag is set to be hidden.\r\n */\r\nconst useTagPosition = (tagRef, idx, tagListRef, bookWidth, setState) => {\r\n\tuseEffect(() => {\r\n\t\tif (!tagRef.current) return;\r\n\t\t// Initialized each tag's position along the middle line of the book\r\n\t\tconst xRandomness = Math.random() * 100 - 50;\r\n\t\tconst x1 = bookWidth / 2 + xRandomness;\r\n\t\tconst y1 = BOOK_HEIGHT / 2;\r\n\t\t// Get width and height of current tag\r\n\t\tconst width = tagRef.current.offsetWidth;\r\n\t\tconst height = tagRef.current.offsetHeight;\r\n\t\t// Get other tags before current tag for collision comparision\r\n\t\tconst otherTags = tagListRef.current.slice(0, idx);\r\n\t\t// Initialized theta of Archimedean spiral and define stepSize = 0.1 radian\r\n\t\tlet theta = 0;\r\n\t\tconst stepSize = 0.1;\r\n\t\t// Initialized numLoop and define maxNumLoop = 5000\r\n\t\tlet numLoop = 0;\r\n\t\tconst maxNumLoop = 5000;\r\n\r\n\t\t// Tag is placed successfully if it is within book and\r\n\t\t// doesn't collides with other tags\r\n\t\twhile (true) {\r\n\t\t\t// Get x1, y1, x2, y2 of tag based on theta of Archimedean spiral\r\n\t\t\tconst newX1 = x1 + theta * Math.cos(theta);\r\n\t\t\tconst newY1 = y1 - theta * Math.sin(theta);\r\n\t\t\tconst x2 = newX1 + width;\r\n\t\t\tconst y2 = newY1 + height;\r\n\t\t\tconst tagObj = { x1: newX1, y1: newY1, x2, y2 };\r\n\r\n\t\t\t// Break if numLoops exceed maxNumLoop\r\n\t\t\t// and set tag to hide\r\n\t\t\tif (numLoop > maxNumLoop) {\r\n\t\t\t\ttagListRef.current[idx].hide = true;\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\r\n\t\t\t// Check if tag is withinBook\r\n\t\t\tconst inBook = isInBook(tagObj, bookWidth);\r\n\t\t\tif (!inBook) {\r\n\t\t\t\ttheta = theta + stepSize;\r\n\t\t\t\tnumLoop += 1;\r\n\t\t\t\tcontinue;\r\n\t\t\t}\r\n\r\n\t\t\t// Check if tag collides with other tags\r\n\t\t\tconst collision = isTagCollided(tagObj, otherTags);\r\n\t\t\tif (collision) {\r\n\t\t\t\ttheta = theta + 0.1;\r\n\t\t\t\tnumLoop += 1;\r\n\t\t\t} else {\r\n\t\t\t\ttagListRef.current[idx].x1 = newX1;\r\n\t\t\t\ttagListRef.current[idx].y1 = newY1;\r\n\t\t\t\ttagListRef.current[idx].x2 = x2;\r\n\t\t\t\ttagListRef.current[idx].y2 = y2;\r\n\t\t\t\tsetState((prev) => ({ ...prev, x1: newX1, y1: newY1 }));\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}, [tagRef, idx, tagListRef, bookWidth, setState]);\r\n};\r\n\r\nexport default TagCloud;\r\n","import TagCloud from './TagCloud';\r\n\r\nexport default TagCloud;\r\n","import './App.css';\nimport TagCloud from './TagCloud';\n\nfunction App() {\n\treturn (\n\t\t<div className='app'>\n\t\t\t<AppText />\n\t\t\t<TagCloud />\n\t\t</div>\n\t);\n}\n\nfunction AppText() {\n\tconst tipStoryExploreLink = 'https://www.tipstory.org/explore';\n\tconst tipStoryLearningLink =\n\t\t'https://www.tipstory.org/learning/3svQFkXVzgFTwyV';\n\treturn (\n\t\t<p className='appText'>\n\t\t\tHi there👋 This is the React component☁️ that is being used in the{' '}\n\t\t\t<a href={tipStoryExploreLink}>TipStory Explore Page</a> To learn more\n\t\t\tabout how it is built, 💁‍♂️ check out{' '}\n\t\t\t<a href={tipStoryLearningLink}>my learning note on TipStory</a>😃\n\t\t</p>\n\t);\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"tagCloud\":\"TagCloud_tagCloud__ci9WW\",\"tag\":\"TagCloud_tag__2vwOS\",\"tagLink\":\"TagCloud_tagLink__1Wo7y\"};"],"sourceRoot":""}