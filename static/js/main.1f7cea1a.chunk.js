(this["webpackJsonptag-cloud-in-tipstory-explore-page"]=this["webpackJsonptag-cloud-in-tipstory-explore-page"]||[]).push([[0],{13:function(t,a,e){},14:function(t,a,e){},17:function(t,a,e){"use strict";e.r(a);var r=e(0),n=e.n(r),g=e(7),i=e.n(g),o=(e(13),e(14),e(2)),c=e(3),u=500,s=50,b=e(1);var f=function(t){var a=t.bookWidth,e=void 0===a?700:a,n=Object(r.useRef)();return Object(r.useEffect)((function(){if(n.current){n.current.width=e,n.current.height=u;var t=e/4;if(n.current.getContext){var a=n.current.getContext("2d");a.strokeStyle="rgb(5, 151, 242)",a.beginPath(),a.moveTo(e/2,s),a.ellipse(t,s,t,s,0,0,Math.PI,!0),a.moveTo(e,s),a.ellipse(3*t,s,t,s,0,0,Math.PI,!0),a.moveTo(1,45),a.lineTo(1,u),a.moveTo(e-1,45),a.lineTo(e-1,u),a.moveTo(e/2,u),a.ellipse(t,u,t,s,0,0,Math.PI,!0),a.moveTo(e,u),a.ellipse(3*t,u,t,s,0,0,Math.PI,!0),a.stroke()}}}),[e]),Object(b.jsx)("canvas",{ref:n})},l=e(4),h=e.n(l),p=function(t,a){var e=t.x1,r=t.y1,n=t.x2,g=t.y2,i=a.filter((function(t){return!(g<t.y1)}));if(0===i.length)return!1;var o=i.filter((function(t){return!(r>t.y2)}));if(0===o.length)return!1;var c=o.filter((function(t){return!(e>t.x2)}));return 0!==c.length&&0!==c.filter((function(t){return!(n<t.x1)})).length},d=function(t,a){var e=a,r=a;return 50-Math.sqrt(Math.pow(50,2)-Math.pow(t-e,2)*Math.pow(50,2)/Math.pow(r,2))},v=function(t,a){var e=3*a,r=a;return 50-Math.sqrt(Math.pow(50,2)-Math.pow(t-e,2)*Math.pow(50,2)/Math.pow(r,2))},y=function(t,a){var e=a,r=a;return 500-Math.sqrt(Math.pow(50,2)-Math.pow(t-e,2)*Math.pow(50,2)/Math.pow(r,2))},j=function(t,a){var e=3*a,r=a;return 500-Math.sqrt(Math.pow(50,2)-Math.pow(t-e,2)*Math.pow(50,2)/Math.pow(r,2))},w=function(t,a){var e=t.x1,r=t.y1,n=t.x2,g=t.y2;if(e<0)return!1;if(r<0)return!1;if(n>a)return!1;if(g>u)return!1;var i=a/2,o=a/4;if(e<i&&r<s){if(n>i)return!1;if(r<d(e,o))return!1;if(r<d(n,o))return!1}if(n>i&&r<s){if(e<i)return!1;if(r<v(e,o))return!1;if(r<v(n,o))return!1}if(e<i&&g>450){if(n>i)return!1;if(g>y(e,o))return!1;if(g>y(n,o))return!1}if(n>i&&g>450){if(e<i)return!1;if(g>j(e,o))return!1;if(g>j(n,o))return!1}return!0},m=e(6),x=e.n(m),O=e(8);var M=function(t,a){var e=Object(r.useRef)();Object(r.useEffect)((function(){e.current=t}),[t]),Object(r.useEffect)((function(){function t(){return(t=Object(O.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.current();case 2:case"end":return t.stop()}}),t)})))).apply(this,arguments)}if(null!==a){var r=setInterval((function(){return t.apply(this,arguments)}),a);return function(){return clearInterval(r)}}}),[a])},k=[{tag:"a"},{tag:"ability"},{tag:"able"},{tag:"about"},{tag:"above"},{tag:"abroad"},{tag:"absence"},{tag:"absent"},{tag:"absolute"},{tag:"accept"},{tag:"accident"},{tag:"accord"},{tag:"account"},{tag:"accuse"},{tag:"accustom"},{tag:"ache"},{tag:"across"},{tag:"act"},{tag:"action"},{tag:"active"},{tag:"actor"},{tag:"actress"},{tag:"actual"},{tag:"add"},{tag:"address"},{tag:"admire"},{tag:"admission"},{tag:"admit"},{tag:"adopt"},{tag:"adoption"},{tag:"advance"},{tag:"advantage"},{tag:"adventure"},{tag:"advertise"},{tag:"advice"},{tag:"advise"},{tag:"affair"},{tag:"afford"},{tag:"afraid"},{tag:"after"},{tag:"afternoon"},{tag:"again"},{tag:"against"},{tag:"age"},{tag:"agency"},{tag:"agent"},{tag:"ago"},{tag:"agree"},{tag:"agriculture"},{tag:"ahead"},{tag:"aim"},{tag:"air"},{tag:"airplane"},{tag:"alike"},{tag:"alive"},{tag:"all"},{tag:"allow"},{tag:"allowance"},{tag:"almost"},{tag:"alone"},{tag:"along"},{tag:"aloud"},{tag:"already"},{tag:"also"},{tag:"although"},{tag:"altogether"},{tag:"always"},{tag:"ambition"},{tag:"ambitious"},{tag:"among"},{tag:"amongst"},{tag:"amount"},{tag:"amuse"},{tag:"ancient"},{tag:"and"},{tag:"anger"},{tag:"angle"},{tag:"angry"},{tag:"animal"},{tag:"annoy"},{tag:"annoyance"},{tag:"another"},{tag:"answer"},{tag:"anxiety"},{tag:"anxious"},{tag:"any"},{tag:"anybody"},{tag:"anyhow"},{tag:"anyone"},{tag:"anything"},{tag:"anyway"},{tag:"anywhere"},{tag:"apart"},{tag:"apology"},{tag:"appear"},{tag:"appearance"},{tag:"applaud"},{tag:"applause"},{tag:"apple"},{tag:"application"},{tag:"apply"},{tag:"appoint"},{tag:"approve"},{tag:"arch"},{tag:"argue"},{tag:"arise"},{tag:"arm"},{tag:"army"},{tag:"around"},{tag:"arrange"},{tag:"arrest"},{tag:"arrive"},{tag:"arrow"},{tag:"art"},{tag:"article"},{tag:"artificial"},{tag:"as"},{tag:"ash"},{tag:"ashamed"},{tag:"aside"},{tag:"ask"},{tag:"asleep"},{tag:"association"},{tag:"astonish"},{tag:"at"},{tag:"attack"},{tag:"attempt"},{tag:"attend"},{tag:"attention"},{tag:"attentive"},{tag:"attract"},{tag:"attraction"},{tag:"attractive"},{tag:"audience"},{tag:"aunt"},{tag:"autumn"},{tag:"avenue"},{tag:"average"},{tag:"avoid"},{tag:"avoidance"},{tag:"awake"},{tag:"away"},{tag:"awkward"},{tag:"axe"},{tag:"baby"},{tag:"back"},{tag:"backward"},{tag:"bad"},{tag:"bag"},{tag:"baggage"},{tag:"bake"},{tag:"balance"},{tag:"ball"},{tag:"band"},{tag:"bank"},{tag:"bar"},{tag:"barber"},{tag:"bare"},{tag:"bargain"},{tag:"barrel"},{tag:"base"},{tag:"basic"},{tag:"basin"},{tag:"basis"},{tag:"basket"},{tag:"bath"},{tag:"bathe"},{tag:"battery"},{tag:"battle"},{tag:"bay"},{tag:"be"},{tag:"beak"},{tag:"beam"},{tag:"bean"},{tag:"bear"},{tag:"beard"},{tag:"beast"},{tag:"beat"},{tag:"beauty"},{tag:"because"},{tag:"become"},{tag:"bed"},{tag:"bedroom"},{tag:"before"},{tag:"beg"},{tag:"begin"},{tag:"behave"},{tag:"behavior"},{tag:"behind"},{tag:"being"},{tag:"belief"},{tag:"believe"},{tag:"bell"},{tag:"belong"},{tag:"below"},{tag:"belt"},{tag:"bend"},{tag:"beneath"},{tag:"berry"}],T=k.map((function(t){return Object(c.a)(Object(c.a)({},t),{},{visibility:"hidden",opacity:0})}));function C(t){var a=t.bookWidth,e=t.tagObj,n=t.idx,g=t.tagListRef,i=Object(r.useRef)(""),c=Object(r.useState)({x1:-999,y1:-999,fontSize:Math.floor(4*Math.random())+15}),u=Object(o.a)(c,2),s=u[0],f=u[1],l=s.x1,p=s.y1,d=s.fontSize,v=e.tag,y=e.visibility,j=e.opacity,w="https://www.tipstory.org/tag/".concat(v.toLowerCase()),m=v.charAt(0).toUpperCase()+v.substring(1);return S(i,n,g,a,f),Object(b.jsx)("a",{href:w,className:h.a.tagLink,children:Object(b.jsx)("div",{ref:i,className:h.a.tag,style:{left:l,top:p,fontSize:d,visibility:y,opacity:j},children:m})})}var S=function(t,a,e,n,g){Object(r.useEffect)((function(){if(t.current)for(var r=100*Math.random()-50,i=n/2+r,o=t.current.offsetWidth,u=t.current.offsetHeight,s=e.current.slice(0,a),b=0,f=0,l=function(){var t=i+b*Math.cos(b),r=250-b*Math.sin(b),l=t+o,h=r+u,d={x1:t,y1:r,x2:l,y2:h};return f>5e3?(e.current[a].hide=!0,"break"):w(d,n)?p(d,s)?(b+=.1,void(f+=1)):(e.current[a].x1=t,e.current[a].y1=r,e.current[a].x2=l,e.current[a].y2=h,g((function(a){return Object(c.a)(Object(c.a)({},a),{},{x1:t,y1:r})})),"break"):(b+=.1,f+=1,"continue")};;){var h=l();if("break"===h)break}}),[t,a,e,n,g])},W=function(){var t=Object(r.useRef)(k),a=Object(r.useState)(T),e=Object(o.a)(a,2),n=e[0],g=(e[1],Object(r.useState)(0)),i=Object(o.a)(g,2),c=i[0],u=i[1];M((function(){c!==n.length&&(t.current[c].hide||(n[c].visibility="visible",n[c].opacity=1),u((function(t){return t+1})))}),300);var s=Object(r.useRef)(""),l=Object(r.useState)(700),p=Object(o.a)(l,2),d=p[0],v=p[1];return Object(r.useEffect)((function(){if(s.current){var t=s.current.clientWidth;700!==t&&v(t)}}),[]),Object(b.jsxs)("div",{className:h.a.tagCloud,ref:s,children:[Object(b.jsx)(f,{bookWidth:d}),n.map((function(a,e){return Object(b.jsx)(C,{bookWidth:d,tagObj:a,idx:e,tagListRef:t},e)}))]})};function _(){return Object(b.jsxs)("p",{className:"appText",children:["Hi there\ud83d\udc4b This is the React component\u2601\ufe0f that is being used in the"," ",Object(b.jsx)("a",{href:"https://www.tipstory.org/explore",children:"TipStory Explore Page"})," To learn more about how it is built, \ud83d\udc81\u200d\u2642\ufe0f check out"," ",Object(b.jsx)("a",{href:"https://www.tipstory.org/learning/3svQFkXVzgFTwyV",children:"my learning note on TipStory"}),"\ud83d\ude03"]})}var I=function(){return Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)(_,{}),Object(b.jsx)(W,{})]})},L=function(t){t&&t instanceof Function&&e.e(3).then(e.bind(null,18)).then((function(a){var e=a.getCLS,r=a.getFID,n=a.getFCP,g=a.getLCP,i=a.getTTFB;e(t),r(t),n(t),g(t),i(t)}))};i.a.render(Object(b.jsx)(n.a.StrictMode,{children:Object(b.jsx)(I,{})}),document.getElementById("root")),L()},4:function(t,a,e){t.exports={tagCloud:"TagCloud_tagCloud__ci9WW",tag:"TagCloud_tag__2vwOS",tagLink:"TagCloud_tagLink__1Wo7y"}}},[[17,1,2]]]);
//# sourceMappingURL=main.1f7cea1a.chunk.js.map